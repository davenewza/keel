model Post {

    @permission(
        expression: true,
        actions: [create, get, list, update, delete]
    )

    fields {
        title Text
        subTitle Text @unique
    }

    operations {
        create createPost() with (title, subTitle)
        get getPost(id)
        update updatePost(id) with (title)
        delete deletePost(id)
        delete deletePostBySubTitle(subTitle)
        list listPosts(title)
        update updateWithExplicitSet(id) with(coolTitle: Text) {
            @set(post.title = coolTitle)
        }
    }
}

api Web {
    @graphql

    models {
        Post
    }
}
