model Post {
    fields {
        title Text?
        views Number?
        active Boolean?

        titlePermissionMatch Text @default("hello")
        viewsPermissionMatch Number @default(5)
        activePermissionMatch Boolean @default(true)

        titleNull Text?
        viewsNull Number?
        activeNull Boolean?
    }

    operations {
        create createPost() 

        create createPostWithTitle() with (title) 

        create createPostWithViews() with (views) 

        create createPostWithActive() with (active) 

        delete deletePostTextPermission(id) {
            @permission(expression: post.title == post.titlePermissionMatch)
        }

        delete deletePostNumberPermission(id) {
            @permission(expression: post.views == post.viewsPermissionMatch)
        }

        delete deletePostBooleanPermission(id) {
            @permission(expression: post.active == post.activePermissionMatch)
        }

        delete deletePostTextNotNullPermission(id) {
            @permission(expression: post.title != post.titleNull)
        }

        delete deletePostNumberNotNullPermission(id) {
            @permission(expression: post.views != post.viewsNull)
        }

        delete deletePostBooleanNotNullPermission(id) {
            @permission(expression: post.active != post.activeNull)
        }
    }
}

api Web {
    @graphql
    models {
        Post
    }
}
