model Person {
    fields {
        name Text
        employer Company?
    }

    actions {
        create createPerson() with (employer.name) {
            @set(person.name = null)
            @set(person.employer.country = null)
            @permission(expression: person.name != null)
        }

        list listPersons() {
            @where(person.name == null)
            @where(null == person.name)
            @where(person.employer.name == null)
            @permission(expression: person.name != null)
       }
    }
}

model Company {
    fields {
        name Text
        country Text
        employees Person[]
    }
}