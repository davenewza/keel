model Profile {
    fields {
        identity Identity {
            @unique
        }
        username Text {
            @unique
        }
    }

    operations {
        create createProfile(username) {
            @set(profile.identity = ctx.identity)
        }
        get myProfile() {
            @where(profile.identity = ctx.identity)
        }
        get profile(id)
    }
}

api Web {
    @graphql

    models {
        Profile
        Post
    }
}
