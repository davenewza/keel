model Post {
    fields {
        title Text?
        views Number?
        active Boolean?

        titlePermissionMatch Text @default("hello")
        viewsPermissionMatch Number @default(5)
        activePermissionMatch Boolean @default(true)

        titleNull Text?
        viewsNull Number?
        activeNull Boolean?
    }

    operations {
        create createPostTextPermission() with (title) {
            @permission(expression: post.title == post.titlePermissionMatch)
        }

        create createPostNumberPermission() with (views) {
            @permission(expression: post.views == post.viewsPermissionMatch)
        }

        create createPostBooleanPermission() with (active) {
            @permission(expression: post.active == post.activePermissionMatch)
        }

        create createPostTextNotNullPermission() with (title) {
            @permission(expression: post.title != post.titleNull)
        }

        create createPostTextNullPermission() {
            @permission(expression: post.title != post.titleNull)
        }

        create createPostNumberNotNullPermission() with (views) {
            @permission(expression: post.views != post.viewsNull)
        }

        create createPostNumberNullPermission() {
            @permission(expression: post.views != post.viewsNull)
        }

        create createPostBooleanNotNullPermission() with (active) {
            @permission(expression: post.active != post.activeNull)
        }

        create createPostBooleanNullPermission() {
            @permission(expression: post.active != post.activeNull)
        }
    }
}

api Web {
    @graphql
    models {
        Post
    }
}
