{
    "version": "0.2.0",
    "configurations": [
    {
        "name": "Launch file",
        "type": "go",
        "request": "launch",
        "mode": "debug",
        "program": "${file}"
    },
    {
        "name": "Run / Debug integration test",
        "type": "go",
        "request": "launch",
        "mode": "test",
        "program": "${workspaceFolder}/integration",
        "args": [
            "-test.run",
            "TestIntegration/${input:testCase}"
        ]
    },
    {
        "name": "Debug test",
        "type": "go",
        "request": "launch",
        "mode": "debug",
        "console": "integratedTerminal",
        "cwd": "${workspaceFolder}",
        "program": "${workspaceFolder}/cmd/keel/main.go",
        "args": [
            "test",
            "-d",
            "${input:directory}",
            "--pattern",
            "${input:pattern}"
        ]
    },
    {
        "name": "Execute Command",
        "type": "go",
        "request": "launch",
        "mode": "debug",
        "console": "integratedTerminal",
        "cwd": "${workspaceFolder}",
        "program": "${workspaceFolder}/cmd/keel/main.go",
        "args": [
            "${input:cmd}",
            "-d",
            "${input:directory}",
        ]
    },
    {
        "name": "Run / debug schema validation test",
        "type": "go",
        "request": "launch",
        "mode": "test",
        "program": "${workspaceFolder}/schema",
        "args": [
            "-test.run",
            "TestSchema/${input:testCase}"
        ]
    },
    {
        "name": "Run / Debug runtime test",
        "type": "go",
        "request": "launch",
        "mode": "test",
        "program": "${workspaceFolder}/runtime",
        "args": [
            "-test.run",
            "TestRuntime/${input:testCase}"
        ]
    }
    ],
    "inputs": [
        {
            "type": "promptString",
            "id": "testCase",
            "description": "The test case directory to isolate",
            "default": "identity_and_authentication"
        },
        {
            "type": "promptString",
            "id": "cmd",
            "description": "The cmd to run",
            "default": "run"
        },
        {
            "type": "promptString",
            "id": "pattern",
            "default": "(.*)",
            "description": "Regular expression pattern to isolate individual tests. Can just be the JS test case name if you don't want to do anything fancy."
        },
        {
            "type": "promptString",
            "id": "directory",
            "default": "../../keelschemas/functioncontext",
            "description": "Path to directory containing keel schema file."
        }
    ]
}
